<div class="page-header">
  <h1>Json to Ruby class</h1>
</div>

<p>
  All data and functionality here, are thanks to <strong><a href="https://github.com/arcanoid/json_to_ruby_class" target="_blank">this gem</a></strong>.
  <br><br>
</p>

<%= form_tag json_to_ruby_class_tools_url do %>
    <div class="row">
      <div class="col-xs-12">
        <div class="text-right">
          <a class="btn btn-default clipboard-button" data-clipboard-target="#formated_result"><i class="fa fa-files-o"></i></a>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-xs-12 col-md-6">
        <div class="form-group <%= 'has-error' if flash[:error] %>">
          <label for="initial_text">JSON to convert</label>
          <%= text_area_tag :initial_text, @initial_text, :rows => 15, :class => "form-control" %>
        </div>

        <div class="form-group">
          <%= label_tag :class_type_ruby, 'Ruby' %>
          <%= radio_button_tag :class_type, 'ruby', (@type == 'ruby') %>
          <%= label_tag 'class_type_c#', 'C#' %>
          <%= radio_button_tag :class_type, 'c#', (@type == 'c#') %>
          <%= label_tag 'class_type_vb', 'VB.Net' %>
          <%= radio_button_tag :class_type, 'vb', (@type == 'vb') %>
        </div>

        <div class="form-group">
          <%= submit_tag 'Generate', :class => 'btn btn-primary' %>
        </div>
      </div>

      <div class="col-xs-12 col-md-6">
        <div class="form-group">
          <label>Classes mapped</label>
          <pre id="formated_result"><%= @final_text %></pre>
        </div>
      </div>
    </div>
<% end %>

<script>
    var clipboard = new Clipboard('.clipboard-button');
</script>